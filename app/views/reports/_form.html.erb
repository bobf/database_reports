<% label_class = 'block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2' %>
<% input_class = 'appearance-none block w-full bg-gray-200 text-gray-700 border border-purple-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white' %>
<% info_class = 'text-gray-600 text-xs italic' %>
<% error_class = 'text-red-600 text-xs italic' %>

<%= form_with model: @report, class: 'report w-full max-w-lg', data: { turbo: false } do |form| %>
  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
      <%= form.label :name, class: label_class %>
      <%= form.text_field :name, class: input_class %>
      <p class="<%= info_class %>">Choose a name for the report.</p>
      <% if @report.errors[:name].present? %>
        <p class="<%= error_class %>">Name <%= @report.errors[:name].join(', ') %></p>
      <% end %>
    </div>

    <div class="w-full md:w-1/2 px-3">
      <%= form.label :subject, class: label_class %>
      <%= form.text_field :subject, class: input_class %>
      <p class="<%= info_class %>">Email subject for report mailings.</p>
      <% if @report.errors[:subject].present? %>
        <p class="<%= error_class %>">Subject <%= @report.errors[:subject].join(', ') %></p>
      <% end %>
    </div>
  </div>

  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3">
      <%= form.label '"To" recipients', class: label_class %>
      <%= form.text_field :to_recipients, class: input_class %>
      <p class="<%= info_class %>">Comma-separated email addresses for report "To:" recipients.</p>
    </div>
  </div>

  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3">
      <%= form.label '"Cc" recipients', class: label_class %>
      <%= form.text_field :cc_recipients, class: input_class %>
      <p class="<%= info_class %>">Comma-separated email addresses for report "Cc:" recipients.</p>
    </div>
  </div>

  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3">
      <%= form.label '"Bcc" recipients', class: label_class %>
      <%= form.text_field :bcc_recipients, class: input_class %>
      <p class="<%= info_class %>">Comma-separated email addresses for report "Bcc:" recipients.</p>
    </div>
  </div>

  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3">
      <%= form.label :query, class: label_class %>
      <%= form.text_area :query, class: input_class %>
      <p class="<%= info_class %>">Database query used to generate report.</p>
      <% if @report.errors[:query].present? %>
        <p class="<%= error_class %>">Query <%= @report.errors[:query].join(', ') %></p>
      <% end %>
    </div>
  </div>

  <div class="md:flex md:items-center">
    <div class="md:w-1/3"></div>
    <div class="md:w-2/3">
      <%= form.submit class: 'shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded', value: submit_text %>
    </div>
  </div>
<% end %>
